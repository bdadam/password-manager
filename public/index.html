<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Password Manager</title>
    <link rel="stylesheet" href="main.css?v=0b1458">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <div id="app-root" style="display: none;">
        <header class="site-header">
            <div class="container">
                <a href="/" class="logo">Home</a>
                <a href="/">About</a>
                <button @click="sync">Sync</button>

                <header-login v-if="isUserLoggedIn" :avatar="user.photoURL" :name="user.displayName" :email="user.email"></header-login>
                <button v-if="isUserLoggedIn" @click="logout">Logout</button>
                <button v-if="!isUserLoggedIn" @click="loginWithGitHub">Login with GitHub</button>
                    <!-- <button v-on:click="login('google')">Login with Google</button> -->
            </div>
        </header>

        <div class="container">
            <!-- <header class="hero-header">
                <h1>Password Manager</h1>
            </header> -->

            <vault-editor :vault="currentVault"></vault-editor>

            <form>
                <label>
                    <input type="checkbox" checked>
                    Auto lock after
                    <input type="text">
                    minutes of inactivity
                </label>
            </form>

            <button>Lock this vault</button>
            <button>Lock all vaults</button>

            <div>
                <h2>Add secret</h2>
                <form @submit.prevent="createSecret">
                    <label for="new-secret-title">Title</label>
                    <input type="text" id="new-secret-title">

                    <label for="new-secret-username">Username</label>
                    <input type="text" id="new-secret-username">

                    <label for="new-secret-value">Password</label>
                    <input type="passowrd" id="new-secret-value">
                    <button>Generate password</button>

                    <button type="submit">Create secret</button>
                </form>
            </div>

            <button>Lock screen</button>

            <section id="secrets-list"></section>

            <table style="width: 100%;">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Username</th>
                        <th>Password</th>
                        <th>Tags</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Test</td><td>Test</td><td>Test</td><td>asdf, qwe, blah, blipp, blupp</td><td><button>Copy to clipboard</button> <button>Edit</button> <button>Delete</button></td></tr>
                    <tr><td>Test</td><td>Test</td><td>Test</td><td>asdf, qwe, blah, blipp, blupp</td><td><button>Copy to clipboard</button> <button>Edit</button> <button>Delete</button></td></tr>
                    <tr><td>Test</td><td>Test</td><td>Test</td><td>asdf, qwe, blah, blipp, blupp</td><td><button>Copy to clipboard</button> <button>Edit</button> <button>Delete</button></td></tr>
                    <tr><td>Test</td><td>Test</td><td>Test</td><td>asdf, qwe, blah, blipp, blupp</td><td><button>Copy to clipboard</button> <button>Edit</button> <button>Delete</button></td></tr>
                </tbody>
            </table>

        </div>

        <footer class="site-footer">
            Created by <a href="http://bdadam.com/">bdadam.com</a>
            |
            Website provided as-is, no warranty. This is just an experiment.
        </footer>
    </div>

    <script type="text/html" id="header-login-template">
        <span style="vertical-align: middle;">{{ name }}</span>
        <span style="vertical-align: middle;">{{ email }}</span>
        <img :src="avatar" style="max-height: 48px; border-radius: 100%; vertical-align: middle;">
    </script>

    <script type="text/html" id="secret-list-template">
        <form>
            <input type="text" v-model="filter">
            <button type="submit">Search</button>
        </form>
        <ul>
            <li v-for="secret in secrets">
                {{ secret.title }}
                {{ secret.username }}
                {{ secret.password }}
                {{ secret.attachments }}

                <button @click="showHidePassword">Show/Hide PW</button>
                <button @click="copy">copy to clipboard</button>
                <button @click="edit">Edit</button>
                <button @click="delete">Delete</button>

            </li>
        </ul>
    </script>

    <script type="text/html" id="vault-editor-template">
        <!-- <p>Hi, you have not set the master password yet. Please set one.</p>
        <p>Please not that this password is only for you, it cannot be recovered by us, nor anyone else.</p> -->

        <form @submit.prevent="save">
            <label>
                Vault name
                <input type="text" v-model="name">
            </label>

            <label>
                Master password
                <input type="password" v-model="password">
            </label>
            <label>
                Repeat master password
                <input type="password" v-model="passwordConfirm">
            </label>
            <label>
                <input type="checkbox" v-model="passwordVisible"> Show password
            </label>

            <button type="submit">Set master password</button>
        </form>
    </script>

    <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js" defer></script>
    <script src="/main.js?v=78b7d8" defer></script>
</body>
</html>
